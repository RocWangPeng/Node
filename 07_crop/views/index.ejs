<!DOCTYPE html>
<html>
<head>
    <title>Aspect Ratio with Preview Pane | Jcrop Demo</title>
    <meta charset="UTF-8"/>
    <link rel="stylesheet" type="text/css" href="/css/jquery.Jcrop.css">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.Jcrop.js"></script>
    <script type="text/javascript" src="/js/preview.js"></script>
</head>
<body>

<img src="/user-avatar.jpg" id="target" alt="[Jcrop Example]"/>

<div id="preview-pane">
    <div class="preview-container">
        <img src="/user-avatar.jpg" class="jcrop-preview" alt="Preview"/>
    </div>
</div>

<input id="btn" type="button" value="剪裁！！" />


<script type="text/javascript">
    $("#btn").click(function () {
        $cropHolder = $(".jcrop-holder>div:first");
        var w = parseInt($cropHolder.css("width"));
        var h = parseInt($cropHolder.css("height"));
        var x = parseInt($cropHolder.css("left"));
        var y = parseInt($cropHolder.css("top"));

        $.get("/crop",{
            "w" : w,
            "h" : h,
            "x" : x,
            "y" : y
        },function(result){
            alert(result);
        });
    });
</script>
</body>
</html>

